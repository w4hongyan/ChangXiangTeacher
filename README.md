# 畅享教学工具 🎓

基于 Electron + Vue 3 + SQLite 开发的现代化教师教学管理软件，专为中小学教师量身打造。

## ✨ 核心功能

### ✅ 已完成功能

#### 📚 班级管理（完成度：100%）
- ✅ 班级创建、编辑、删除、查看完整CRUD
- ✅ 班级列表展示，支持搜索和分页
- ✅ 班主任信息管理和数据验证
- ✅ 多学期班级数据管理

#### 👨‍👩‍👧‍👦 学生管理（完成度：100%）
- ✅ 学生信息完整CRUD操作
- ✅ 高级搜索：按姓名、学号、班级筛选
- ✅ 批量操作：批量删除、批量导入
- ✅ Excel导入导出：模板下载、数据导入导出
- ✅ 学号唯一性验证和数据完整性检查
- ✅ 学生状态管理（启用/禁用）

#### 🪑 排位管理（完成度：100%）
- ✅ 可视化座位布局设计器
- ✅ 拖拽式学生分配到座位
- ✅ 多种座位编号模式（行列式、S形、Z形、靠台S形）
- ✅ 智能自动分配算法
- ✅ 座位交换和移除功能
- ✅ 排位导出：Excel表格、PNG图片导出
- ✅ 教室布局可视化和座位统计
- ✅ **高级调位功能**：
  - ✅ 固定学生功能：先固定某些学生位置，再自动分配其余学生
  - ✅ 批量移动：批量横移、批量纵移选中的座位
  - ✅ 整行/整列移位：快速调整整行或整列学生位置
  - ✅ 随机重排：保留固定学生的随机重新分配
  - ✅ 键盘快捷键：方向键控制移动，ESC退出模式
  - ✅ 可视化状态提示：固定学生金色标记，选中状态高亮

#### 🔧 应用程序部署（完成度：100%）
- ✅ **Electron应用打包**：支持Windows平台exe文件生成
- ✅ **数据库路径修复**：生产环境数据库存储在用户数据目录
- ✅ **文件路径修复**：解决打包后界面加载路径问题
- ✅ **调试日志系统**：完善的错误日志和调试信息
- ✅ **安装包生成**：一键生成安装程序，支持标准安装流程

### 🚧 开发中功能

#### 📊 成绩管理（完成度：95%）
- ✅ 成绩录入系统：支持班级关联学生选择
- ✅ 多科目成绩管理：语文、数学、英语等学科
- ✅ 成绩CRUD操作：录入、编辑、删除、查询
- ✅ 高级筛选：按班级、学科、考试类型、学期筛选
- ✅ 成绩导入导出：Excel模板下载和批量导入
- ✅ 基础统计分析：成绩分布和等级标记
- ✅ 成绩趋势图表：柱状图、折线图展示成绩分布
- ✅ 成绩报告页面：完整的成绩展示和分析界面
- 🚧 学生个人成绩报告生成
- 🚧 期中期末成绩对比分析

#### 🏆 积分管理（完成度：90%）
- ✅ 基础界面框架
- ✅ 积分规则配置系统
- ✅ 积分录入和扣减操作
- ✅ 积分排行榜和统计
- ✅ 奖惩记录管理
- ✅ 单人积分模式
- ✅ 小组积分模式
- ✅ 积分历史记录查询
- ✅ 积分导出功能
- ✅ 小组管理功能
- ✅ 座位图选择学生功能
- ✅ **座位图直观积分操作**：直接在座位图上点击学生姓名进行加减分操作
- ✅ **兑换记录管理**：完整的积分兑换历史记录和状态管理
- ✅ **代码优化**：修复变量命名冲突，提升代码质量和稳定性
- 🚧 积分商城和奖励兑换

#### 📋 文档模板中心（完成度：70%）
- ✅ **模板库系统**：内置19个常用教学模板（班级值日表、课程表、教案模板等）
- ✅ **智能变量识别**：自动提取模板中的{{变量名}}格式变量
- ✅ **动态表单生成**：根据模板变量自动生成填写表单
- ✅ **实时预览功能**：填写数据后即时预览最终效果
- ✅ **文档生成**：一键生成完整文档并保存到生成记录
- ✅ **生成记录管理**：查看历史生成记录，支持重新编辑和导出
- 🚧 **模板编辑器**：自定义模板创建和编辑功能
- 🚧 **一键打印**：各类表格、名单、通知单的标准化打印
- 🚧 **批量生成**：批量生成班级通讯录、学生花名册等

### 💡 规划中的办公助手功能

#### 🤖 AI智能助手
- 💬 **教学问答**：集成ChatGPT/通义千问等AI助手
- 📚 **备课助手**：课程大纲生成、教学重点提取
- ✍️ **作文批改**：AI辅助作文评分和建议
- 🎯 **个性化建议**：根据学生表现提供教学建议

#### 🌐 教育资源导航
- 📖 **教学资源**：国家智慧教育平台、学科网等
- 🎥 **视频课程**：优质教学视频、微课资源
- 📊 **数据平台**：教育统计、考试分析网站
- 🔗 **常用网址**：教育部门、考试院、培训平台

#### 📅 日程与提醒
- ⏰ **课程表管理**：个人课程安排、代课提醒
- 📋 **待办事项**：作业检查、家长会、会议提醒
- 📞 **联系人管理**：家长联系方式、同事通讯录
- 🗓️ **重要日期**：考试时间、放假安排、活动日程

#### 🎨 多媒体工具
- 📷 **截图标注**：快速截图、添加标注说明
- 🎬 **录屏工具**：制作教学视频、操作演示
- 🖼️ **图片处理**：压缩、裁剪、格式转换
- 📱 **二维码生成**：作业链接、通知推送

#### 🏠 家校沟通助手
- 📱 **消息模板**：常用通知模板、个性化消息
- 📧 **批量发送**：家长群发消息、通知推送
- 📋 **反馈收集**：在线调查问卷、意见收集
- 📈 **沟通记录**：家长沟通历史、问题跟踪

#### 📚 课程表管理
- 📅 **可视化课程表**：按周/日视图展示课程安排
- 🔄 **课程调换**：支持临时调课和代课安排
- 🔔 **上课提醒**：课前提醒和预备铃功能
- 📋 **课程详情**：课程主题、教学目标、备注信息
- 📤 **导入导出**：支持从教务系统导入课程表
- 📱 **移动端同步**：手机端查看课程安排

#### 📣 班级点名功能
- 📱 **快速点名**：一键启动点名，支持随机点名
- 📊 **出勤统计**：实时统计出勤情况，生成出勤报表
- 📷 **拍照点名**：人脸识别辅助点名（可选）
- 📝 **请假记录**：便捷记录学生请假情况
- 🚫 **缺勤追踪**：自动标记和追踪缺勤学生
- 📤 **数据导出**：出勤数据Excel导出和打印

#### 📝 作业管理功能
- 📋 **作业布置**：按科目、班级布置作业任务
- 📅 **截止提醒**：自动提醒学生和家长作业截止时间
- 📊 **完成统计**：实时统计作业完成情况
- 📝 **在线批改**：支持在线批改和评语添加
- 📈 **成绩分析**：作业完成质量分析和趋势图表
- 📤 **家校同步**：作业信息推送给家长端

#### 💾 数据备份功能
- 🔄 **自动备份**：定时自动备份教学数据
- ☁️ **云同步**：支持阿里云、腾讯云等云存储
- 🔐 **数据加密**：备份数据加密存储，保障隐私安全
- 📦 **版本管理**：支持多版本备份，可回滚到历史版本
- 📤 **一键恢复**：数据丢失时快速恢复所有教学数据
- 🗃️ **增量备份**：智能识别变化数据，节省存储空间

## 🚀 技术栈与功能扩展

### ✅ 当前技术栈
**前端**：Electron + Vue 3 + TypeScript + Element Plus + Pinia + Chart.js
**后端**：SQLite + Node.js + xlsx + html2canvas
**构建**：Vite + ESLint + Prettier + Electron Builder

### 💡 规划中的技术扩展
**AI集成**：OpenAI API + 通义千问 API + 自然语言处理
**文档处理**：PDF生成 + Word模板 + Markdown转换
**多媒体**：截图 API + 录屏工具 + 二维码生成
**通信集成**：邮件服务 + 微信API + 短信接口
**数据同步**：云存储 + 数据备份 + 多设备同步

## 📦 快速开始

### 环境要求
- Node.js 18.0+
- npm 或 yarn

### 安装运行
```
# 克隆项目
git clone <repository-url>
cd ChangXiangTeacher

# 安装依赖
npm install

# 初始化数据库
npm run db:init

# 启动开发环境
npm run dev

# 构建应用
npm run build

# 打包分发
npm run dist
```

### 环境配置
在项目根目录创建 `.env` 文件（可选）：
```
# AI服务配置
OPENAI_API_KEY=your_openai_api_key
QWEN_API_KEY=your_qwen_api_key

# 邮件服务配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# 云存储配置
CLOUD_STORAGE_TYPE=aliyun  # 或 tencent, aws
CLOUD_ACCESS_KEY=your_access_key
CLOUD_SECRET_KEY=your_secret_key
```

### 开发命令
| 命令 | 说明 |
|------|------|
| `npm run dev` | 启动开发环境 |
| `npm run build` | 构建生产版本 |
| `npm run dist` | 打包应用 |
| `npm run db:init` | 初始化数据库 |
| `npm run lint` | 代码检查 |
| `npm run format` | 代码格式化 |

## 🏗️ 项目结构

```
ChangXiangTeacher/
├── src/
│   ├── main/               # Electron主进程
│   │   ├── index.ts        # 主进程入口
│   │   ├── database.ts     # 数据库管理
│   │   └── handlers/       # IPC处理程序
│   │       ├── student.ts  # 学生管理处理器
│   │       ├── grades.ts   # 成绩管理处理器
│   │       └── seating.ts  # 排位管理处理器
│   ├── preload/            # 预加载脚本
│   │   └── index.ts        # API暴露接口
│   └── renderer/           # Vue渲染进程
│       ├── components/     # 公共组件
│       │   ├── ClassForm.vue      # 班级表单组件
│       │   ├── StudentForm.vue    # 学生表单组件
│       │   ├── GradeForm.vue      # 成绩表单组件
│       │   ├── GradeCharts.vue    # 成绩图表组件
│       │   ├── SeatLayoutDesigner.vue  # 座位布局设计器
│       │   ├── SeatingArrangement.vue # 座位安排组件
│       │   └── SeatingPoint.vue   # 座位图积分组件
│       ├── views/          # 页面组件
│       │   ├── Home.vue    # 首页
│       │   ├── Classes.vue # 班级管理
│       │   ├── Students.vue # 学生管理
│       │   ├── Seating.vue # 排位管理
│       │   ├── Grades.vue  # 成绩管理
│       │   ├── Points.vue  # 积分管理
│       │   └── Settings.vue # 系统设置
│       ├── stores/         # Pinia状态管理
│       │   ├── class.ts    # 班级状态管理
│       │   ├── student.ts  # 学生状态管理
│       │   ├── grade.ts    # 成绩状态管理
│       │   └── seating.ts  # 排位状态管理
│       ├── types/          # TypeScript类型定义
│       └── assets/         # 静态资源
├── scripts/                # 构建脚本
│   └── init-db.js         # 数据库初始化脚本
├── data/                   # 数据库文件目录
│   └── database.db        # SQLite数据库
└── build/                  # 构建配置
```

## 📊 数据库设计

### ✅ 已实现表结构
- `classes` - 班级信息表（班级名称、班主任、学生人数）
- `students` - 学生信息表（基本信息、联系方式、状态）
- `class_configs` - 班级座位配置表（教室布局、编号模式）
- `seats` - 座位分配表（学生座位映射关系）
- `grades` - 成绩记录表（科目、分数、考试类型、时间）

### 🚧 规划中的表结构
- `points` - 积分记录表（积分值、类型、原因、时间）
- `point_rules` - 积分规则表（规则名称、分值、类型）
- `documents` - 文档模板表（模板名称、类型、内容）
- `schedules` - 日程表（事件名称、时间、类型、提醒）
- `contacts` - 联系人表（姓名、电话、邮箱、关系）
- `messages` - 消息记录表（消息内容、发送时间、接收人）
- `ai_conversations` - AI对话记录表（问题、回答、时间）
- `resources` - 资源导航表（网址、名称、分类、标签）

**数据库位置**：
- 开发环境: `./data/database.db` （软件目录下的data文件夹）
- 生产环境: `[应用安装目录]/data/database.db`

> **注意**: 数据库现在存储在软件目录中，方便整个应用的移动和复制。

## 🎨 功能特色

### ✅ 已实现特色

#### 座位编号系统
支持4种编号模式和2种编号方向：
- **行列式**：1-1, 1-2, 1-3...
- **S形编号**：蛇形路径连续编号
- **Z形编号**：逐行从左到右
- **靠台S形**：从靠讲台侧开始的S形

编号方向：从上开始 / 从下开始

#### 成绩管理系统
支持多科目成绩管理和统计分析：
- **班级关联**：选择班级后自动筛选对应学生
- **多科目支持**：语文、数学、英语等全科目覆盖
- **灵活筛选**：按班级、学科、考试类型、学期筛选
- **成绩分级**：自动按分数段显示优秀/及格/不及格标记

#### 数据导入导出
- **Excel模板**：标准化导入模板下载（学生信息、成绩数据）
- **批量处理**：学生信息、成绩数据批量导入导出
- **图片导出**：座位表PNG图片生成
- **智能校验**：数据完整性检查和错误提示

### 💡 规划中的特色功能

#### AI智能化
- **智能问答**：教学问题智能解答，支持多个AI模型
- **个性化建议**：根据学生数据提供教学建议
- **自动生成**：教案、课程计划等文档自动生成

#### 一站式办公
- **文档模板库**：内置丰富的教学文档模板
- **一键打印**：各类表格、名单标准化打印
- **快速导航**：教育资源网站快速访问

#### 多媒体工具
- **在线编辑**：截图标注、图片处理
- **二维码生成**：链接、通知快速生成二维码
- **录屏功能**：教学演示录制和分享

#### 智能提醒
- **个性化日程**：课程表、会议、任务提醒
- **重要日期**：考试、放假、活动日程管理
- **待办事项**：作业检查、家长会等提醒

## 🔧 开发规范

- 使用 TypeScript 进行类型安全开发
- 遵循 ESLint + Prettier 代码规范
- 组件命名使用 PascalCase
- 文件命名使用 kebab-case

## 📱 跨平台支持

- Windows 10/11
- macOS 10.15+
- Linux Ubuntu 18.04+

## 🐛 故障排除

### 常见问题
1. **数据不显示**：检查数据库是否初始化 `npm run db:init`
2. **启动失败**：确认 Node.js 版本 >= 18.0
3. **端口占用**：检查 3000-3010 端口是否被占用

### 调试技巧
- 按 `Ctrl+Shift+I` 打开开发者工具
- 查看控制台错误信息
- 使用 DB Browser for SQLite 查看数据库

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支 `git checkout -b feature/AmazingFeature`
3. 提交更改 `git commit -m 'Add some AmazingFeature'`
4. 推送到分支 `git push origin feature/AmazingFeature`
5. 创建 Pull Request

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

感谢以下开源项目：
- [Electron](https://electronjs.org/)
- [Vue.js](https://vuejs.org/)
- [Element Plus](https://element-plus.org/)
- [SQLite](https://sqlite.org/)

---

<div align="center">
  <p><strong>畅享教学工具</strong> - 让教学管理更智能、更高效</p>
  <p><em>当前版本：v2.0.0-roadmap</em></p>
  
  ### 功能状态一览
  | 模块 | 状态 | 完成度 | 描述 |
  |------|------|---------|--------|
  | 📚 班级管理 | ✅ 已完成 | 100% | 全功能 CRUD + 数据管理 |
  | 👨‍👩‍👧‍👦 学生管理 | ✅ 已完成 | 100% | 完整 CRUD + 导入导出 |
  | 🪑 排位管理 | ✅ 已完成 | 100% | 可视化布局 + 智能分配 |
  | 📊 成绩管理 | 🚧 开发中 | 95% | 完整 CRUD + 导入导出 + 图表分析 + 报告页面 |
  | 🏆 积分管理 | 🚧 开发中 | 90% | 完整积分系统 + 座位图操作 + 兑换记录 |
  | 🔧 应用部署 | ✅ 已完成 | 100% | 打包分发 + 路径修复 |
  | 📅 课程表管理 | 💡 规划中 | 0% | 课程安排 + 上课提醒 |
  | 📣 班级点名 | 💡 规划中 | 0% | 快速点名 + 出勤统计 |
  | 📝 作业管理 | 💡 规划中 | 0% | 作业布置 + 在线批改 |
  | 💾 数据备份 | 💡 规划中 | 0% | 自动备份 + 云同步 |
  | 📋 文档中心 | 🚧 开发中 | 70% | 模板库系统 + 智能生成 + 记录管理 |
  | 🤖 AI助手 | 💡 规划中 | 0% | 智能问答 + 备课助手 |
  | 🌐 资源导航 | 💡 规划中 | 0% | 教育资源快速访问 |
  | 🎨 多媒体工具 | 💡 规划中 | 0% | 截图 + 录屏 + 图片处理 |
  
  <p>🚀 <strong>下一个版本预告</strong>：v2.1.0 将重点完善成绩管理个人报告、积分商城系统和课程表管理</p>
  <p>🔧 <strong>最新更新</strong>：v2.0.1 修复积分管理模块变量命名冲突，提升系统稳定性</p>
  <p>🌟 <strong>未来展望</strong>：v3.0.0 将引入AI智能助手、班级点名、作业管理和一站式办公工具</p>
</div>